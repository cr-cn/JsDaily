<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JavaScript闭包</title>
    <script src='http://libs.baidu.com/jquery/1.9.1/jquery.min.js'></script>
</head>

<body>
    <script>
    //实例1
    // function outerFn(){
    // 	console.log('Outer function');
    // 	function innerFn(){
    // 		console.log('inner function');
    // 	}
    // 	innerFn();
    // }
    // console.log('outerFn():');
    // outerFn();


    //实例2
    // var globalVar = '';

    // function outerFn() {
    //     console.log('Outer function');

    //     function innerFn() {
    //         console.log('Inner function');
    //     }
    //     globalVar = innerFn;
    // }
    // console.log('outerFn():');
    // outerFn();
    // console.log('globalVar():');
    // globalVar();


    //实例3
    // function outerFn() {
    //     console.log('Outer function');

    //     function innerFn() {
    //         console.log('Inner function');
    //     }
    //     return innerFn;
    // }
    // console.log('var fnRef = outerFn():');
    // var fnRef = outerFn(); // 相当于var fnRef = innerFn;
    // console.log('fnRef():');
    // fnRef();


    // 实例4
    // function outerFn() {
    //     function innerFn() {
    //         var innerVar = 0;
    //         innerVar++;
    //         console.log('innerVar = ' + innerVar);
    //     }
    //     return innerFn;
    // }
    // var fnRef = outerFn();
    // fnRef();
    // fnRef();
    // var fnRef2 = outerFn();
    // fnRef2();
    // fnRef2();


    // 实例5
    // var globalVar = 0;

    // function outerFn() {
    //     function innerFn() {
    //         globalVar++;
    //         console.log('golbalVar = ' + globalVar);
    //     }
    //     return innerFn;
    // }
    // var fnRef = outerFn();
    // fnRef();
    // fnRef();
    // var fnRef2 = outerFn();
    // fnRef2();
    // fnRef2();



    // 实例6
    // function outerFn() {
    //     var outerVar = 0;

    //     function innerFn() {
    //         outerVar++;
    //         console.log('outerVar = ' + outerVar);
    //     }
    //     return innerFn;
    // }
    // var fnRef = outerFn();
    // fnRef();
    // fnRef();
    // var fnRef2 = outerFn();
    // fnRef2();
    // fnRef2();


    // 实例7
    // function outerFn() {
    //     var outerVar = 0;

    //     function innerFn1() {
    //         outerVar++;
    //         console.log('(1) outerVar = ' + outerVar);
    //     }

    //     function innerFn2() {
    //         outerVar += 2;
    //         console.log('(2) outerVar = ' + outerVar);
    //     }
    //     return {
    //         'fn1': innerFn1,
    //         'fn2': innerFn2
    //     };
    // }
    // var fnRef = outerFn();
    // fnRef.fn1(); //1
    // fnRef.fn2(); //3
    // fnRef.fn1(); //4
    // var fnRef2 = outerFn();
    // fnRef2.fn1();
    // fnRef2.fn2();
    // fnRef2.fn1();


    // 实例8：在jQuery中创建闭包
    // $(document).ready(function() {
    // 	var readyVar = 0;
    // 	function innerFn(){
    // 		readyVar++;
    // 		console.log('readyVar = ' + readyVar);
    // 	}
    // 	innerFn();
    // 	innerFn();
    // });


    // 实例9
    $(document).ready(function() {
        var counter = 0;
        $('#button-1').on('click', function(event) {
            event.preventDefault();
            counter++;
            console.log('counter = ' + counter);
        });
        $('#button-2').on('click', function(event) {
            event.preventDefault();
            counter--;
            console.log('counter = ' + counter);
        });
    });
    </script>
    <a href="" id="button-1">button-1</a>
    <br>
    <a href="" id="button-2">button-2</a>
</body>

</html>
